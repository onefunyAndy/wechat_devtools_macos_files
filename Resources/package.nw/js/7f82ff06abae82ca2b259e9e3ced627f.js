'use strict';!function(require,directRequire){function a(){o.remove(o.CACHE_KEYS.JS_PAGEFRAME)}const b=require('path'),c=require('./d28a711224425b00101635efe1034c99.js'),d=require('./3e4c71c2a2cc438e1b3afc3fb10bd4b6.js'),e=require('./709f7f8328edb932b1169de8b7e694dd.js'),f=require('./162bf2ee28b76d3b3d95b685cede4146.js'),g=require('./0a856a8f0b27fbeca81fbaabad89dd1e.js'),h=require('./949d8235c744ced2a80121e4dba34c28.js'),i=require('./6238a86bb7a55c11aa0f9eb335d0f34c.js'),j=require('./2dfc6a3df6d6fc51266b293c8420e88b.js'),k=require('./bc78839ccca8df9e5ceeb7fae11b7be2.js'),l=require('./56c390e04c10e91a4aa2a2c19d9a885d.js'),m=require('./6242f55dbdfe53c2f07b7a51568311f2.js').errorPrefix,n=require('./6b5b303ea4d41abf4ecefba647ca75dc.js'),o=require('./2e9637e8a0816a626f7db9a0dee5efe8.js'),{jsDebug:p,htmlBegin:q,htmlEnd:r,htmlReady:s,errorTpl:t,devVendorList:u,vendorList:v,plugincodePlaceholder:w}=require('./59a36d89a8b99d7d2d809add2cecd72e.js'),x=global.appConfig.isDev&&!nw.App.manifest.forceVendor?u:v;let y={};c.on('VENDOR_CONFIG_CHANGE',a),c.on('VENDOR_VERSION_CHANGE',a),module.exports=async function(c,f={}){await o.init(c);const m=k.getState(),n=m.toolbar.deviceInfo;(y.screenWidth!=n.screenWidth||y.dpr!=n.dpr)&&a(),y=n;const u=o.CACHE_KEYS.JS_PAGEFRAME;let v=o.get(u);if(!v)try{const a=[q],f={pixelRatio:n.dpr,width:n.screenWidth};a.push(`<script> window.__deviceInfo__ = ${JSON.stringify(f)} </script>`),a.push(`<script>${p}</script>`);const h=[];for(let c=0,d=x.length;c<d;c++){const d=x[c],e=b.extname(d);'.js'===e?h.push(`<script src='./__dev__/${d}'></script>`):'.css'===e&&a.push(`<link rel="stylesheet" type="text/css" href='./__dev__/${d}' />`)}const i=await d(c,{app:!0});a.push(w),a.push(`<script>${i.code}</script>`);const j=await e(c,{app:!0});if(j){a.push(`<script>eval('${j}')</script>`)}const k=await g(c,{app:!0});a.push(`<script>eval('${k}')</script>`),a.push(r),a.push(h.join('\n')),a.push(s),v=a.join('\n'),o.set(u,v)}catch(a){let b;if(a.code===h.TRANS_WXML_JS_ERR?b=await i.parseWxmlErr(c,a.msgForConsole):a.code===h.TRANS_WXSS_JS_ERR&&(b=await i.parseWxssErr(c,a)),b){const c=t.replace('{{error}}',(b.file?`in File: ${b.file}`:'')+(b.msg?`<pre style="white-space:pre-wrap; font-family: monospace;">${b.msg.replace(/</g,'&lt;').replace(/>/g,'&gt;')}</pre>`:'')+(a.message?`<p>${a.message}</p>`:''));throw new Error(c)}else throw j.display({command:l.DISPLAY_ERROR,data:{error:a}}),a}return v}}(require('lazyload'),require);