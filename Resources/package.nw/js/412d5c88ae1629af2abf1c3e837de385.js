'use strict';!function(require,directRequire){const a=require('react'),b=require('./common/locales/index.js');module.exports=class extends a.Component{constructor(a){if(super(a),!this.props.items)throw new TypeError('Subpackge Popover component: attribute "items" must be provided');this.state={}}componentDidMount(){this._cancalLocaleListener=b.onChangeLocale(()=>this.forceUpdate())}componentWillUnmount(){this._cancalLocaleListener()}onClick(a){a.stopPropagation()}onCancel(){this.props.onCancel&&this.props.onCancel()}onItemClick(a,b){b.stopPropagation(),nw.Shell.openExternal(`https://mp.weixin.qq.com/wxopen/pluginbasicprofile?action=intro&appid=${a}`)}render(){const c=(this.props.items||[]).map((c)=>{const d=c.current||{},e=c.latest||{};return a.createElement('div',{className:'plugins-item',key:c.appid,onClick:this.onItemClick.bind(this,c.appid)},a.createElement('h4',{className:'plugins-item-name ui-flex'},a.createElement('span',{className:'ui-flex-item'},c.name),a.createElement('i',{className:'ui-icon-arrow-right-o'})),a.createElement('div',{className:'plugins-item-meta'},a.createElement('label',{className:'plugins-item-meta-key'},'AppId'),a.createElement('p',{className:'plugins-item-meta-value'},c.appid)),a.createElement('div',{className:'plugins-item-meta'},a.createElement('label',{className:'plugins-item-meta-key'},b.config.CURRENT_VERSION),a.createElement('p',{className:'plugins-item-meta-value'},d.version||b.config.NONE,' ',d.pkgSize&&`(${(d.pkgSize/1024).toFixed(1)} KB)`||'',' ',d.version===e.version?b.config.LASTEST_VERSION_EXTRA_INFO:'')),d.version===e.version?null:a.createElement('div',{className:'plugins-item-meta'},a.createElement('label',{className:'plugins-item-meta-key'},b.config.LATEST_VERSION),a.createElement('p',{className:'plugins-item-meta-value'},e.version||b.config.NONE,' ',e.pkgSize&&`(${(e.pkgSize/1024).toFixed(1)} KB)`||'',' ',a.createElement('i',{className:'ui-icon-dot'}))))}),d={WebkitAppRegion:'no-drag',position:'absolute'};return['left','top'].forEach((a)=>{this.props.hasOwnProperty(a)&&(d[a]=this.props[a])}),a.createElement('div',{className:'ui-popover',style:d,onClick:this.onClick},a.createElement('div',{className:'plugins'},a.createElement('div',{className:'plugins-hd ui-flex'},a.createElement('h3',{className:'plugins-title ui-flex-item'},b.config.PLUGIN_INFORMATION),a.createElement('div',{className:'plugins-hd-ext'},a.createElement('i',{className:'ui-icon-notify-close',onClick:this.onCancel.bind(this)}))),a.createElement('div',{className:'plugins-bd'},a.createElement('div',{className:'plugins-list'},c))))}}}(require('lazyload'),require);