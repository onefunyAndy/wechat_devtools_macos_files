'use strict';!function(require,directRequire){async function a(a,c,d){let e=`${b.posix.join(c,'index')}.json`;return a.exists(e)?e:(e=`${b.posix.join(c,d)}.json`,a.exists(e))?e:(e=`${c}.json`,a.exists(e)?e:'')}const b=require('path');module.exports=async function(c,d,e){const f=['usingComponents','componentGenerics'];for(const g of f){const f=d[g]||{},h=Object.keys(f);for(const d of h){const g='object'==typeof f[d]?f[d].default:f[d];if(!g)continue;let h=b.posix.dirname(e),i=`${b.posix.join(h,g)}.json`;if(c.exists(i))continue;let j=b.posix.normalize(h);j=j.split(b.posix.sep),j=j.filter((a)=>!!a);for(;j.length&&(h=b.posix.join(j.join(b.posix.sep),'miniprogram_npm',g),i=await a(c,h,g),!i);)j.pop();i||(h=b.posix.join('miniprogram_npm',g),i=await a(c,h,g)),i&&(/\.json$/.test(i)&&(i=i.substring(0,i.length-5)),i=b.posix.relative(b.posix.dirname(e),i),'object'==typeof f[d]?f[d].default=i:f[d]=i)}}}}(require('lazyload'),require);