'use strict';!function(require,directRequire){function a(a){const{data:b}=a;switch(b.type){case c.EVENT_HEARTBEAT:{b.id===i&&h.postMessage({type:c.EVENT_HEARTBEAT,id:i});break}case c.COMMAND_DEV_WINDOW_CLOSE:{`${global.devInfo.appid}_${global.devInfo.projectname}`===b.id&&d.dispatch(e.closeProject());break}case c.EVENT_SVR_WINDOW_CLI_PORT_UPDATE:{b[c.CLI_PORT]&&j.set(c.CLI_PORT,b[c.CLI_PORT]);break}case c.CHANGE_LOCALE:{g.getSourceLocale()!==b.locale&&g.setLocale(b.locale);break}case c.COMMAND_DEV_WINDOW_CLOSE_ALL:{d.dispatch(e.closeProject());break}case c.EVENT_DEV_WINDOW_CLOSE:{`${global.devInfo.appid}_${global.devInfo.projectname}`!==b.id&&(f.removeListener(),f.addListener());break}}}const b=require('events'),c=require('./09060286633d09fb81fefc8ff1294dd7.js'),d=require('./bc78839ccca8df9e5ceeb7fae11b7be2.js'),e=require('./cc2c2970ff81ae4a83123e81ee123da2.js'),f=require('./ffc9a3cdcc5036d1fb62a2324c72a2b0.js'),g=require('./common/locales/index.js');let h;const i=global.devInfo.id,j=new Map;module.exports={init:()=>{h=new BroadcastChannel(c.BROADCAST_CHANNEL_NAME),h.onmessage=a,h.postMessage({type:c.EVENT_DEV_WINDOW_OPENED,id:i,projectid:global.devInfo.projectid})},serverWindowInfo:j,notifyCloseWindow:(a)=>{h&&h.postMessage({type:c.EVENT_DEV_WINDOW_CLOSE,id:global.devInfo.id,projectid:global.devInfo.projectid,fromAction:a})},notifyCliPortUpdate:(a)=>{h&&h.postMessage({type:c.EVENT_DEV_WINDOW_CLI_PORT_UPDATE,id:global.devInfo.id,projectid:global.devInfo.projectid,[c.CLI_PORT]:a})},notifyChangeLocale:(a)=>{h&&h.postMessage({type:c.CHANGE_LOCALE,locale:a})}}}(require('lazyload'),require);