'use strict';!function(require,directRequire){const a=require('react'),b=require('./cc2c2970ff81ae4a83123e81ee123da2.js'),c=require('./1fcc6bd55b687d154a4247e57fe3011d.js'),d=require('./875171e7b864aa58d026d4fa0999fbd1.js'),e=require('./3bfffbe88b3d923921f851c0697974fe.js'),{connect:f}=require('react-redux');class g extends a.Component{constructor(a){super(a),this.state={show:a.show,newAppId:'',errorMsg:''}}componentWillReceiveProps(a){a.show!=this.props.show&&this.setState({show:a.show})}onClose(){this.setState({show:!1})}async onConfirm(){try{const a=this.state.newAppId.trim();if(!a)return void this.refs.appidInput.focus();await this.props.changeAppId(a),this.props.showSuccessTip('\u4FEE\u6539\u6210\u529F'),this.onClose()}catch(a){this.setState({errorMsg:`修改失败：${a}`})}}onAnimationOut(){this.props.close()}onInputChange(a){let b=a.currentTarget,c=b.dataset,d=c.name,e=b.value.trim();e=e.replace(/[^wxa-f0-9]*/g,''),this.setState({[d]:e})}render(){this.props;return a.createElement(d,{show:this.state.show,style:{width:600,marginLeft:-300},inClassName:'ui-animate-pull-down ui-dialog',outClassName:'ui-animate-pull-up ui-dialog',onAnimationOut:this.onAnimationOut.bind(this)},a.createElement('div',{className:'ui-dialog-bd'},a.createElement('div',{className:'ui-form'},a.createElement('div',{className:'ui-form-item ui-form-item-inline'},a.createElement('label',{htmlFor:'',className:'ui-form-label'},'AppId'),a.createElement('div',{className:'ui-form-controls'},a.createElement('div',{className:'ui-input-box'},a.createElement('input',{type:'text',ref:'appidInput',className:'ui-input',value:this.state.newAppId,maxLength:100,"data-name":'newAppId',onChange:this.onInputChange.bind(this),placeholder:e.getCurrent().appid})))),a.createElement('div',{className:'ui-form-item ui-form-item-inline',style:this.state.errorMsg?{}:{display:'none'}},a.createElement('label',{className:'ui-form-label'}),a.createElement('div',{className:'ui-form-controls'},a.createElement('p',{className:'dashboard-error-tips'},this.state.errorMsg))))),a.createElement('div',{className:'ui-dialog-ft'},a.createElement('div',{className:'ui-dialog-action'},a.createElement('button',{className:'ui-button ui-button-default',onClick:this.onClose.bind(this)},'\u53D6\u6D88'),a.createElement('button',{className:'ui-button ui-button-primary',onClick:this.onConfirm.bind(this)},'\u786E\u5B9A'))))}}module.exports=f((a)=>{return{show:a.info.changeAppIdInfo.show}},(a)=>{return{close:()=>{a(c.setChangeAppIdInfo({show:!1}))},changeAppId:(c)=>{return a(b.changeProjectAppId(c))},showSuccessTip:(b)=>{a(c.showSuccessTip(b))}}})(g)}(require('lazyload'),require);