'use strict';!function(require,directRequire){function a(){j.remove(j.CACHE_KEYS.JS_APPSERVICE_WIDGET)}async function b(a){let b=a.attr.gameApp?await f(a):await e(a);const c=b.widgets;for(let b=0,d=c.length;b<d;b++){const d=c[b];if(d.type==a.compileType)return d.path}}const c=require('path'),d=require('./d28a711224425b00101635efe1034c99.js'),e=require('./1dea83a77e99a7c94f6b6f01f5c175b0.js'),f=require('./1bd2563d13db26950ae47494b2c34454.js'),g=require('./84b183688a46c9e2626d3e6f83365e13.js'),h=require('./162bf2ee28b76d3b3d95b685cede4146.js'),i=require('./common/locales/index.js'),j=require('./2e9637e8a0816a626f7db9a0dee5efe8.js'),{asDebug:k,htmlBegin:l,htmlEnd:m,vendorList:n,devVendorList:o,noBrowser:p}=require('./bcbc694e4d465af7bbc604e962f3f0e1.js'),q=global.appConfig.isDev&&!nw.App.manifest.forceVendor?o:n;d.on('VENDOR_CONFIG_CHANGE',a),d.on('VENDOR_VERSION_CHANGE',a),module.exports=async function(a,e={}){await j.init(a);const f=j.CACHE_KEYS.JS_APPSERVICE_WIDGET;let k=j.get(f);if(!k||e.force){const e=await h(a);let n=[];const o=require('fs'),p=global.appConfig.isDev?c.join(__dirname,'../../../extensions/appservice/index.js'):c.join(__dirname,'./extensions/appservice/index.js'),r=o.readFileSync(p,'utf8');n.push(l),n.push(`<script>${r}</script>`);for(let a=0,b=q.length;a<b;a++){const b=q[a],e=await d.getFile(b),f=c.extname(b);'.js'===f?n.push(`<script>${e} </script>`):'.css'===f&&n.push(`<style>${e}</style>`)}const s=await b(a),t=e.getAllJSFiles(),u=[];let v=c.posix.join(s,'widget');const w=v.replace(/\"/g,'\\"');let x=!1;t.forEach((a)=>{const b=g.normalizePath(a.replace(/\.js$/,''));0==c.posix.dirname(b).indexOf(s)&&(v==b?x=!0:u.push(`<script src="./${encodeURI(a)}"></script>`))}),v=x?`<script src="./${encodeURI(v)}.js"></script>
        <script>require("${w}.js")</script>`:`<script>
        console.group("${new Date} ${i.config.COMPILE_ERROR_PREFIX.format('widget')}")
        console.error("${i.config.SCRIPT_ERROR_OR_INCORRECTLY_CALL.format([w+'.js','Widget()'])}")
        console.groupEnd()
        </script>`,n=n.concat(u).concat([v]),n.push(m),k=n.join('\n'),j.set(f,k)}return k}}(require('lazyload'),require);