'use strict';!function(require,directRequire){var a,b,c;const d=require('react'),e=require('./bc04f89cf8edab62335086e0a2a5a103.js'),f=require('./de640e457745362cd277fa7e893af981.js'),g=require('./common/locales/index.js'),h=require('./72653d4b93cdd7443296229431a7aa9a.js'),i='appearance';module.exports=(b=a=class extends d.Component{constructor(a){super(a),c.call(this);let{settings:b}=this.props;const d=b.fontSize||12;let e;e=b.lineHeight?b.lineHeight>=d?b.lineHeight-d:0:0,this.state={_fontFamilyOpen:!1,_fontFamilySelectedIndex:0,_fontFamilyLeft:'0px',_fontFamilyTop:'0px',_localeOpen:!1,_localeSelectedIndex:0,_localeLeft:'0px',_localeTop:'0px',_showMask:!1,theme:b.theme||'white',fontFamily:b.fontFamily||'Arial',fontSize:d,lineSpacing:e},this.setupConstants(),this.setupControllers(),this.state._localeSelectedIndex=this.localeController.getIndex(g.getSourceLocale())}componentDidMount(){this._cancalLocaleListener=g.onChangeLocale(()=>this.forceUpdate())}componentWillUnmount(){this._cancalLocaleListener()}setupConstants(){}setupControllers(){const a=this;this.fontFamilyController=new class{constructor(){this.fontFamilyList=[a.state.fontFamily],this.toggle=async()=>{if(!!a.state._fontFamilyOpen)a.setState({_fontFamilyOpen:!1,_showMask:!1});else if(1===this.fontFamilyList.length){this.fontFamilyList=await f();let b=this.fontFamilyList.indexOf(a.state.fontFamily);-1===b&&(b=0);const c=a.fontInput.getBoundingClientRect();a.setState({_fontFamilyOpen:!0,_fontFamilySelectedIndex:b,_fontFamilyLeft:c.left+'px',_fontFamilyTop:c.top+25+'px',_showMask:!0})}else{const b=a.fontInput.getBoundingClientRect();a.setState({_fontFamilyOpen:!0,_fontFamilyLeft:b.left+'px',_fontFamilyTop:b.top+25+'px',_showMask:!0})}},this.onItemSelected=(b,c)=>{const d={_fontFamilyOpen:!1,_showMask:!1};b!==a.state._fontFamilySelectedIndex&&(d._fontFamilySelectedIndex=b,a.state.fontFamily=c),a.props.updateIDESetting(i,'fontFamily',c),a.setState(d)},this.getItemStyle=(a)=>{return{fontFamily:this.fontFamilyList[a]}}}},this.localeController=new class{constructor(){this.localeList=[{locale:g.systemLocale,dec:g.config.MENU_SYSTEM_LANGUAGE},...g.supportedLanguages],this.getIndex=(a)=>{let b=this.localeList.findIndex((b)=>b.locale===a);return-1===b?0:b},this.toggle=()=>{if(!a.state._localeOpen){const b=this.getIndex(g.getSourceLocale()),c=a.localeInput.getBoundingClientRect();a.setState({_localeOpen:!0,_localeSelectedIndex:b,_localeLeft:c.left+'px',_localeTop:c.top+25+'px',_showMask:!0})}else a.setState({_localeOpen:!1,_showMask:!1})},this.onItemSelected=(b)=>{const c={_localeOpen:!1,_showMask:!1},d=this.localeList[b].locale;b!==a.state._localeSelectedIndex&&(c._localeSelectedIndex=b,a.state.locale=d),a.props.updateIDESetting(i,'locale',d),a.setState(c)}}}}getSetting(){const{theme:a,fontFamily:b,fontSize:c,lineSpacing:d}=this.state;return{theme:a,fontFamily:b,fontSize:c,lineHeight:d+c}}render(){return d.createElement('div',{className:'setting-theme ui-form'},this.state._showMask?d.createElement('div',{className:'ui-mask ui-mask-transparent',onClick:this.handleMaskClick}):null,d.createElement('div',{className:'ui-form-item ui-form-item-inline ui-form-item-vt'},d.createElement('label',{htmlFor:'',className:'ui-form-label'},g.config.SETTING_THEME),d.createElement('div',{className:'ui-form-controls'},d.createElement('label',{htmlFor:'',className:'ui-radio',onClick:this.handleThemeClick,"data-theme":'dark'},d.createElement('i',{className:'dark'===this.state.theme?'ui-icon-radio-o':'ui-icon-radio'}),d.createElement('span',{className:'ui-radio-text'},g.config.SETTING_THEME_DARK)),d.createElement('label',{htmlFor:'',className:'ui-radio',onClick:this.handleThemeClick,"data-theme":'white'},d.createElement('i',{className:'white'===this.state.theme?'ui-icon-radio-o':'ui-icon-radio'}),d.createElement('span',{className:'ui-radio-text'},g.config.SETTING_THEME_WHITE)))),d.createElement('div',{className:'ui-form-item ui-form-item-inline'},d.createElement('label',{htmlFor:'',className:'ui-form-label'},g.config.SETTING_FONT_FAMILY),d.createElement('div',{className:'ui-form-controls'},d.createElement('div',{className:'ui-selector ui-selector-default',onClick:this.fontFamilyController.toggle},d.createElement('p',{className:'ui-selector-input',ref:(a)=>this.fontInput=a},this.fontFamilyController.fontFamilyList[this.state._fontFamilySelectedIndex]),d.createElement('div',{className:'ui-selector-dropdown'},d.createElement('i',{className:'ui-icon-arrow-down-o'})),d.createElement(e,{width:'207px',height:'100px',top:this.state._fontFamilyTop,left:this.state._fontFamilyLeft,open:this.state._fontFamilyOpen,items:this.fontFamilyController.fontFamilyList,selectedIndex:this.state._fontFamilySelectedIndex,getItemStyle:this.fontFamilyController.getItemStyle,onItemSelected:this.fontFamilyController.onItemSelected})))),d.createElement('div',{className:'ui-flex ui-form-item'},d.createElement('div',{className:'ui-flex-item'},d.createElement('div',{className:'ui-form-item ui-form-item-inline'},d.createElement('label',{htmlFor:'',className:'ui-form-label'},g.config.SETTING_FONT_SIZE),d.createElement('div',{className:'ui-form-controls'},d.createElement('div',{className:'ui-input-box'},d.createElement('input',{type:'number',placeholder:'',value:this.state.fontSize,className:'ui-input',onChange:this.handleFontSizeChange}))))),d.createElement('div',{className:'ui-flex-item'},d.createElement('div',{className:'ui-form-item ui-form-item-inline'},d.createElement('label',{htmlFor:'',className:'ui-form-label'},g.config.SETTING_LINE_SPACING),d.createElement('div',{className:'ui-form-controls'},d.createElement('div',{className:'ui-input-box'},d.createElement('input',{type:'number',placeholder:'',value:this.state.lineSpacing,className:'ui-input',onChange:this.handleLineSpacingChange})))))),d.createElement('div',{className:'ui-form-item ui-form-item-inline'},d.createElement('label',{htmlFor:'',className:'ui-form-label'},g.config.SETTING_LANGUAGE),d.createElement('div',{className:'ui-form-controls'},d.createElement('div',{className:'ui-selector ui-selector-default',onClick:this.localeController.toggle},d.createElement('p',{className:'ui-selector-input',ref:(a)=>this.localeInput=a},this.localeController.localeList[this.state._localeSelectedIndex].dec),d.createElement('div',{className:'ui-selector-dropdown'},d.createElement('i',{className:'ui-icon-arrow-down-o'})),d.createElement(e,{width:'207px',height:'100px',top:this.state._localeTop,left:this.state._localeLeft,open:this.state._localeOpen,items:this.localeController.localeList.map((a)=>a.dec),selectedIndex:this.state._localeSelectedIndex,onItemSelected:this.localeController.onItemSelected})))))}},c=function(){this.handleThemeClick=(a)=>{const b=a.currentTarget.dataset.theme;this.props.updateIDESetting(i,'theme',b),this.setState({theme:b})},this.handleFontSizeChange=(a)=>{let b=parseInt(a.target.value);0>=b&&(b=1),this.props.updateIDESetting(i,'fontSize',b),this.props.updateIDESetting(i,'lineHeight',b+this.state.lineSpacing),this.setState({fontSize:b})},this.handleLineSpacingChange=(a)=>{const b=parseInt(a.target.value);0>b&&(b=0),this.props.updateIDESetting(i,'lineHeight',b+this.state.fontSize),this.setState({lineSpacing:b})},this.handleMaskClick=()=>{this.setState({_fontFamilyOpen:!1,_showMask:!1})}},b)}(require('lazyload'),require);