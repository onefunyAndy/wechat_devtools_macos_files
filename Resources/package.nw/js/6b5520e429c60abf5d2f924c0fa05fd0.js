'use strict';var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};!function(require,directRequire){async function a(a,e,h){await f.init(a);const i=f.CACHE_KEYS.JSON_CUSTOMCOMPONENT_FILES,j=h?`sub_${h.root}`:'main';let k=f.get(i,j);if(k)return k;const l=await c(a),m=l.getAllJSONFiles(),n=[];for(let c=0,f=m.length;c<f;c++){const f=m[c].replace(/\.json$/,'');if(b.normalize(f)==b.normalize('app'))continue;if(g(f,e,h))continue;const i=await d(a,f);(i.usingComponents||i.componentGenerics||!0===i.component)&&n.push(f)}return k=n,f.set(i,j,k),k}const b=require('path'),c=require('./162bf2ee28b76d3b3d95b685cede4146.js'),d=require('./d260ebf687a29f24aed49f66b233ab7d.js'),e=require('./84b183688a46c9e2626d3e6f83365e13.js'),f=require('./2e9637e8a0816a626f7db9a0dee5efe8.js'),g=(a,b,c)=>{if(!c){let c=!1;if(b.subPackages&&b.subPackages.forEach((b)=>{0==a.indexOf(b.root)&&(c=!0)}),c)return!0}else if(0!=a.indexOf(c.root))return!0;return!1};module.exports={getFileList:a,getFileListWithMainPack:async function(b,c,d){let e=await a(b,c);if(d){const f=await a(b,c,d);e=e.concat(f)}return e},getCompileConfig:async function(a,h,j){await f.init(a);const i=f.CACHE_KEYS.JSON_CUSTOMCOMPONENT_CONFIG,k=j?`sub_${j.root}`:'main',l=await c(a);let m=f.get(i,k);if(m)return m;let n=[],o=0;const p=l.getAllJSONFiles();for(let c=0,f=p.length;c<f;c++){const f=p[c].replace(/\.json$/,''),i=b.posix.dirname(f);if(b.normalize(f)==b.normalize('app'))continue;if(g(f,h,j))continue;const k=await d(a,f);if(k.usingComponents||k.componentGenerics){n.push(`./${f}.wxml`);const a={};let b=k.usingComponents;for(const c in k.usingComponents){let d=k.usingComponents[c]||'';const f=c.split('*'),g=d.split('*');1<f.length?(d=e.normalizePath('/'+d),a[c]=d):b[c]=d}if(0<Object.keys(a).length)for(const c in a){const d=a[c],e=new RegExp(d.replace(/\*/g,'([^/]*)'));p.forEach((a)=>{a='/'+a;const d=a.match(e);if(!d)return;let f=1;const g=c.replace(/\*/g,function(){return d[f++]});b[g]=a})}b=_extends({},b,k.componentGenerics),n.push(Object.keys(b).length),n=n.concat(Object.keys(b)),o++}}return n.unshift(o),m=n,f.set(i,k,m),m},async getProjectFiles(a){await f.init(a);const b=await c(a);return b}}}(require('lazyload'),require);