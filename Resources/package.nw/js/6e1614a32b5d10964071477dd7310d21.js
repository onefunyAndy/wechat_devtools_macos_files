'use strict';!function(require,directRequire){function a(a,b={}){return new Promise(async(g,j)=>{const k=await d(a),l=k.srcPath;let m=k.getAllWXMLFiles();const{type:n}=b,o=k.getAllWXSFiles();o&&0<o.length&&(m=m.concat(o));let p;try{p=await e.getCompileConfig(a)}catch(a){return j(a)}m=m.map((a)=>`./${a}`);const q=`$gwx_${b.pluginId}`;if(!m||0==m.length)return g({code:'',name:q});const r='>_<>_<'+Date.now(),s=['-d',n,p.join(r),'--split',r].concat(m).concat(['-p','-gn',q]),t=a.setting&&a.setting.newFeature,u=c.getWXMLParsePath(t),v=i(u,s,{cwd:l}),w=[],x=[];v.on('close',(a)=>{if(0===a){const a=Buffer.concat(w).toString();return g({code:a,name:q})}const b=Buffer.concat(x).toString(),c=new Error(f.config.COMPILE_WXML_ERROR_CONSOLE);return c.code=h,c.msgForConsole=b,j(c)}),v.stdout.on('data',(a)=>{w.push(a)}),v.stderr.on('data',(a)=>{x.push(a)})})}const b=require('path'),c=require('./d28a711224425b00101635efe1034c99.js'),d=require('./a63026ab5a5a3c59a61a9749a18aa2ca.js'),e=require('./e53dfc2b83456f986002c49964f30fbf.js'),f=require('./common/locales/index.js'),g=require('./2e9637e8a0816a626f7db9a0dee5efe8.js'),{PLUGIN_TRANS_WXML_JS_ERR:h}=require('./949d8235c744ced2a80121e4dba34c28.js'),{spawn:i}=require('child_process');module.exports=async function(b,c={}){await g.init(b);const d=g.CACHE_KEYS.WXML_PLUGIN,e=c.cut?'-xc':'-cc';let f=g.get(d,e);return f||(f=await a(b,{pluginId:c.pluginId,version:c.version,type:c.cut?'-xc':'-cc'}),g.set(d,e,f)),f}}(require('lazyload'),require);