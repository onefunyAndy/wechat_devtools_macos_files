'use strict';!function(require,directRequire){const a=require('./0634ee2ebd3e560d9d4804ecc960160f.js'),b=require('./f171257bbcaef547a3cf27266ccb0db2.js'),c=require('./3bfffbe88b3d923921f851c0697974fe.js'),d=require('./15ba1827c7f6564a45df6bd44da3a977.js'),f=require('./72653d4b93cdd7443296229431a7aa9a.js'),g=require('./0634ee2ebd3e560d9d4804ecc960160f.js'),h=require('./common/locales/index.js'),{enterBackground:e,enterForeground:i}=require('./a3959bb900db9f65ed2e9c5dfa6977b7.js');module.exports={getPhoneNumber:async function(a,e,i){const j=c.getCurrent(),k=e.api,l=e.callbackID;try{const{body:e}=await d({url:`${b.getUserPhoneNumber}`,method:'post',body:JSON.stringify({appid:c.getProjectAppID()}),needToken:1,needAppID:1,needCheckErrCode:-1}),f=e.jsapi_baseresponse,j=f?parseInt(f.errcode):-1e4;if(0===j){let b,c;try{c=JSON.parse(e.data),b=JSON.parse(c.data)}catch(a){throw`${h.config.GET_DATA_ERROR} ${a}`}if(!b||!b.mobile)throw h.config.USER_NOT_BOUND_PHONE;if(b.need_auth)throw h.config.PHONE_BOUND_NEED_VERIFIED;a({type:g.SIMULATOR_SET_AUTHORIZE_CONFIRM,data:{show:!0,imageUrl:e.appicon_url,appName:e.appname,scopeList:[e.scope],callback:(b)=>{let d={};b?d={errMsg:`${k}:ok`,encryptedData:c.encryptedData,iv:c.iv}:d.errMsg=`${k}:fail user deny`,a({type:g.JSSDK_CALLBACK,webviewID:i,callbackID:l,res:d})}}})}else if(-12001==j)throw h.config.APPID_NO_PERMISSIONS;else if(-12004==j)throw h.config.WX_LOGIN_FIRST;else throw`${h.config.SYSTEM_ERROR} errorCode:${j}`}catch(b){return a({type:g.SIMULATOR_SET_CONFIRM,data:{show:!0,title:h.config.GET_PHONE_NUMBER_ERROR,content:b.toString()}}),f.error(`getPhoneNumber catch error ${b}`),{errMsg:`${k}:fail ${b}`}}},enterContact:async function(b,c){const{api:d,args:f}=c;return b({type:a.SIMULATOR_SET_CONFIRM,data:{show:!0,title:'\u6A21\u62DF\u8FDB\u5165\u5BA2\u670D\u4F1A\u8BDD',showCancel:!1,content:`开发者工具暂不支持打开客服会话，请使用真机调试`,confirmText:'\u8FD4\u56DE',callback:()=>{i('enterContact')}}}),e('enterContact'),{errMsg:`${d}:ok`}}}}(require('lazyload'),require);