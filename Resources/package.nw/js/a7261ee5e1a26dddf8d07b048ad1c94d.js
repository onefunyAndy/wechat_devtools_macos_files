'use strict';!function(require,directRequire){const a=require('./0634ee2ebd3e560d9d4804ecc960160f.js'),b=require('./bc78839ccca8df9e5ceeb7fae11b7be2.js'),c=require('./2a0793d184cc5f699ba18197a7403b19.js'),d=b.dispatch.bind(b),e=require('querystring');const g=new class{constructor(){this.map=new Map,this._id=0}getNextID(){return++this._id}serialize(a){const b=this.getNextID();return this.map.set(b,a),b}deserialize(a){return this.map.get(a)}};module.exports={invokeCallback:(a)=>{try{if(a.callbackID){const b=g.deserialize(a.callbackID);b&&b(a.data)}}catch(a){}},getCurrentHTML:()=>new Promise(async(c,e)=>{try{const e=b.getState(),f=e.simulator.currentWebviewID;d({type:a.SIMULATOR_CALL_INTERFACE,callbackID:g.serialize(c),method:'getWebviewHTML',data:{webviewID:f}})}catch(a){e(a)}}),getScreenShot:(a)=>new Promise(async(b,d)=>{try{const e=await c.capture(a);e.err?d(e.err):b(e.result)}catch(a){d(a)}}),getCurrentPageStack:()=>new Promise((a,c)=>{try{const c=b.getState(),d=c.simulator,e=d.currentWebviewID,f=d.webviewInfos;let g=f[e];if(!g)return a([]);let h=20;const i=[g.pathName];for(;-1!=g.parent&&(g=f[g.parent],i.unshift(g.pathName),!(0>=--h)););a(i)}catch(a){c(a)}}),getCurrentPageTitle:()=>new Promise((a,c)=>{try{const c=b.getState(),d=c.simulator,e=d.currentWebviewID,f=d.webviewInfos,g=f[e];if(!g)return a('');a(g.navigationBar.title)}catch(a){c(a)}}),getCurrentPageQuery:()=>new Promise((a,c)=>{try{const c=b.getState(),d=c.simulator,f=d.currentWebviewID,g=d.webviewInfos,h=g[f];if(!h)return a('');a(e.stringify(h.query||{}))}catch(a){c(a)}})}}(require('lazyload'),require);