'use strict';!function(require,directRequire){const{BROADCAST_CHANNEL_NAME:a}=require('./29663300bfa19b7ed51ebc10354be1e9.js'),{syncSettings:b}=require('./e98c60a262d8d98e69e574a9d12a21df.js'),{syncUser:c}=require('./9c906d27ca74e18d0deaaa231e71fdfa.js'),{syncProject:d}=require('./cc2c2970ff81ae4a83123e81ee123da2.js'),{syncWindow:e}=require('./a8c87029da0fa06e986298d447ab0fe2.js'),{syncConfig:f}=require('./3b66d845db4d098b7a16cb0357f5c072.js'),{syncToolbar:g}=require('./fc137838572a83604db39acff8e909e0.js'),{select:h,getType:i,getMergeData:j}=require('./f2016183e756007d724ae6d6a2e6a3d4.js'),k=new BroadcastChannel(a);let l;const m={settings:{},"toolbar.device.list":{},"window.remoteDebugWindow.debuggingProjectId":{}},n={},o={},p={settings:b,config:f,"toolbar.device.list":g,"window.remoteDebugWindow.debuggingProjectId":e};global.isSimple||(m.user={},p.user=c,p.project=d);const q={settings:['show','currentCategory'],project:['current']},r=(a,b)=>{const c=m[b],d=h(a,b);let e=c!==d;if(e&&(e=n[b]===o[b]),!e)return!1;if(q[b]){const c=m[b],d=a[b];for(const a in d)if(-1===q[b].indexOf(a)&&d[a]!=c[a])return!0;return!1}return!0},t=()=>{const a=l.getState();for(const b in m)r(a,b)&&k.postMessage({key:b,value:j(a,b),syncTime:+new Date}),m[b]=h(a,b)};k.onmessage=(a)=>{if(l){const{key:b,value:c,syncTime:d}=a.data;b&&p[b]&&(o[b]=d,l.dispatch(p[b](c,d)),n[b]=o[b])}},module.exports=(a)=>{l=a;const b=l.getState();for(const c in m)m[c]=h(b,c),n[c]=+new Date,o[c]=+new Date;l.subscribe(t)}}(require('lazyload'),require);