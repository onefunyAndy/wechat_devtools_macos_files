'use strict';var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};!function(require,directRequire){const a=require('lodash'),{REHYDRATE:b}=require('redux-persist/constants'),c=require('./46696da2c374c1de94184ccaf32ab38a.js'),d=require('./0634ee2ebd3e560d9d4804ecc960160f.js'),e=require('./eadce02c750c875a10680bcfedadec88.js'),f=require('./6242f55dbdfe53c2f07b7a51568311f2.js'),g=require('./common/locales/index.js'),h=require('./84858de8a097c9cf84ff2c2e3d86e2a9.js'),i=()=>c.map((a)=>{const b=a.statusbarHeight||f.default_statusbar_height;let c=f.default_android_navigationbar_height,d=f.default_android_tabbar_height;'iOS'==a.os&&(c=f.default_ios_navigationbar_height,d=a.tabbarHeight||f.default_ios_tabbar_height);const{height:e,width:g,dpr:h,title:i}=a,j={os:a.os,ua:a.ua,title:i,model:i,dpr:h,screenHeight:e,screenWidth:g,statusbarHeight:b,navigationbarHeight:c,tabbarHeight:d,canRotate:!!a.canRotate};return{name:i,desc:`${g} x ${e} | Dpr:${h}`,type:'default',info:j}}),j=()=>{const a=i();return{autoPreviewTimestamp:0,clickKey:'none',network:{current:0,list:['wifi','2g','3g','4g','none']},device:{current:0,list:a},deviceInfo:_extends({},a[0].info),rotated:!1,deviceStatus:{brightness:0.5,accelerometer:!1,compass:!1,screenon:!1},compileType:{current:'weapp',list:{weapp:g.config.MINI_PROGRAM,widget:g.config.DYNAMIC_PAGE,search:g.config.SEARCH_PAGE}},deviceScale:1,config:{title:!0,cos:!1,cloud:!0,qcloud:!1,test:!1,bbs:!0,tgit:!0,upload:!0,plugin:{}},muted:!1}};module.exports=function(c=j(),g={}){switch(g.type){case d.BODY_CLICK:return _extends({},c,{clickKey:e.NONE});case d.TOOLBAR_TOGGLE_NETWORK:{const a=c.clickKey==e.NETWORK?e.NONE:e.NETWORK;return _extends({},c,{clickKey:a})}case d.TOOLBAR_TOGGLE_DEVICE:{const a=c.clickKey==e.DEVICE?e.NONE:e.DEVICE;return _extends({},c,{clickKey:a})}case d.TOOLBAR_TOGGLE_COMPACT:{const a=c.clickKey==e.COMPACT?e.NONE:e.COMPACT;return _extends({},c,{clickKey:a})}case d.TOOLBAR_TOGGLE_INFO:{const a=c.clickKey==e.INFO?e.NONE:e.INFO;return _extends({},c,{clickKey:a})}case d.TOOLBAR_TOGGLE_COMPILETYPE:{const a=c.clickKey==e.COMPILETYPE?e.NONE:e.COMPILETYPE;return _extends({},c,{clickKey:a})}case d.WINDOW_SET_MAIN_WINDOW:return _extends({},c,{clickKey:e.NONE});case d.TOOLBAR_SELECT_NETWORK:return _extends({},c,{clickKey:e.NONE,network:_extends({},c.network,{current:g.data})});case d.TOOLBAR_SELECT_DEVICE:{let a;try{a=c.device.list[g.data].info}catch(a){return c}return _extends({},c,{clickKey:e.NONE,device:_extends({},c.device,{current:g.data}),deviceInfo:a,rotated:!1})}case d.TOOLBAR_SET_DEVICE_ROTATED:{const a=(c.device.list[c.device.current]||{}).info||c.deviceInfo,b=a.screenHeight,d=a.screenWidth;return _extends({},c,{rotated:g.data,deviceInfo:g.data?_extends({},c.deviceInfo,{screenHeight:d,screenWidth:b}):_extends({},c.deviceInfo,a)})}case d.TOOLBAR_SELECT_COMPILETYPE:return _extends({},c,{clickKey:e.NONE,compileType:_extends({},c.compileType,{current:g.data})});case d.TOOLBAR_TOGGLE_CLICKKEY:{const a=c.clickKey==g.clickKey?e.NONE:g.clickKey;return _extends({},c,{clickKey:a})}case d.TOOLBAR_PREVIEW_CODE:return _extends({},c,{clickKey:e.PREVIEWCODE});case d.TOOLBAR_AUTO_PREVIEW:return _extends({},c,{autoPreviewTimestamp:g.data});case d.TOOLBAR_REMOTE_DEBUG_CODE:return _extends({},c,{clickKey:e.REMOTEDEBUGCODE});case d.TOOLBAR_SET_DEVICE_STATUS:return _extends({},c,{deviceStatus:_extends({},c.deviceStatus,g.data)});case d.TOOLBAR_SET_CLICKKEY:return _extends({},c,{clickKey:g.data});case d.WINDOW_RESIZE:return _extends({},c,{clickKey:e.NONE});case d.PROJECT_CLOSE_PROJECT:return _extends({},c,{clickKey:e.NONE});case d.TOOLBAR_SET_DEVICESCALE:return _extends({},c,{deviceScale:g.data});case d.USER_LOGIN_EXPIRED:return _extends({},c,{clickKey:e.LOGINQRCODE});case d.TOOLBAR_ADD_DEVICE:{const a=global.appVersion,b=[].concat(c.device.list),{height:d,width:e,dpr:h,name:i}=g.data,j={title:i,os:'Android',ua:`Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.23 Mobile Safari/537.36 wechatdevtools/${a} MicroMessenger/${'6.5.7'} webview/{{webviewID}}`,dpr:h,screenWidth:e,screenHeight:d,statusbarHeight:f.default_statusbar_height,navigationbarHeight:f.default_android_navigationbar_height,tabbarHeight:f.default_android_tabbar_height},k={name:i,desc:`${e} x ${d} | Dpr:${h}`,type:'custom',info:j};return b.push(k),_extends({},c,{device:{current:b.length-1,list:b},deviceInfo:_extends({},j)})}case d.TOOLBAR_REMOVE_DEVICE:{try{const a=c.device.list[g.data];if('custom'==a.type){const a=[].concat(c.device.list);a.splice(g.data,1);const b=_extends({},c,{device:{current:0,list:a},deviceInfo:_extends({},a[0].info)});return b}}catch(a){}return c}case d.TOOLBAR_CONFIG:return _extends({},c,{config:_extends({},c.config,g.data)});case d.TOOLBAR_SET_MUTED:return _extends({},c,{muted:g.data});case d.TOOLBAR_SYNC_STORE:{let b=_extends({},c);return b=a.merge(b,g.data.toolbar),b}case b:{const b=global.devInfo&&global.devInfo.projectid?h.getToolbarForProject(global.devInfo.projectid):null;b?b.device&&delete b.device.list:g.payload.toolbar&&delete g.payload.toolbar.config;const d=a.merge(a.cloneDeep(c),g.payload.toolbar,b);d.clickKey=e.NONE;const f=i();return d.device.list.forEach((a)=>{'default'!=a.type&&f.push(a)}),d.device.list=f,d.deviceInfo.ua=d.deviceInfo.ua.replace(/wechatdevtools\/([\d\.]*)/,`wechatdevtools/${global.appVersion}`),'iPhone X'==d.deviceInfo.model&&(d.deviceInfo.tabbarHeight=82),d}default:return c;}}}(require('lazyload'),require);